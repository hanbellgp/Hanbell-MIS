<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../../WEB-INF/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">


    <ui:define name="content">
        <h:form id="formOne">
            <p:growl id="growl" showSummary="false" showDetail="true" autoUpdate="true"></p:growl>
            <p:toolbar id="toolbar" styleClass="topToolbar">
                <f:facet name="left">
                    <p:button id="btnReturn" value="返回" outcome="proposal" icon="ui-icon-restore"/>
                    <p:commandButton id="btnPrev" value="向前" actionListener="#{proposalManagedBean.toPrev()}" icon="ui-icon-carat-1-w"
                                     process="@this" update="formOne"
                                     rendered="#{proposalManagedBean.hasPrev}"/>
                    <p:commandButton id="btnNext" value="向后" actionListener="#{proposalManagedBean.toNext()}" icon="ui-icon-carat-1-e"
                                     process="@this" update="formOne"
                                     rendered="#{proposalManagedBean.hasNext}"/>
                </f:facet>
                <f:facet name="right">
                    <p:commandButton id="btnPrint" value="打印" actionListener="#{proposalManagedBean.print()}" icon="ui-icon-print"
                                     process="@this" rendered="#{proposalManagedBean.doPrt}"/>
                    <p:commandButton id="btnVerify" value="审核" action="#{proposalManagedBean.verify()}" icon="ui-icon-check"
                                     process="@this" rendered="#{proposalManagedBean.doCfm}" update="toolbar">
                        <p:confirm header="系统提示" message="审核吗?" icon="ui-icon-alert" />
                    </p:commandButton>
                    <p:commandButton id="btnUnverify" value="还原" actionListener="#{proposalManagedBean.unverify()}" icon="ui-icon-lock-open"
                                     rendered="#{proposalManagedBean.doUnCfm}"  update="toolbar">
                        <p:confirm header="系统提示" message="还原吗?" icon="ui-icon-alert" />
                    </p:commandButton>
            </p:toolbar>
            </f:facet>
            <p:panelGrid id="plgHead"  styleClass="plgHead Wid100">
                <f:facet name="header">
                    <p:row>
                        <p:column colspan="4">需求清单----查看</p:column>
                    </p:row>
                </f:facet>
                <p:row>
                    <p:column styleClass="Wid20"><p:outputLabel value="序号" for="id" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="id" value="#{issuesListManagedBean.currentEntity.id}" title="id"
                                     required="true" requiredMessage="请输入编号"/>
                    </p:column>
                    <p:column styleClass="Wid20"><p:outputLabel value="需求名称" for="name" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="name" value="#{issuesListManagedBean.currentEntity.name}" title="name"
                                     required="true" requiredMessage="请输入需求名称"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column styleClass="Wid20"><p:outputLabel value="需求说明" for="description" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="description" value="#{issuesListManagedBean.currentEntity.description}" title="description"
                                     required="true" requiredMessage="请输入需求说明"/>
                    </p:column>
                    <p:column styleClass="Wid20"><p:outputLabel value="需求部门" for="dept" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="dept" value="#{issuesListManagedBean.currentEntity.dept}" title="dept"
                                     required="true" requiredMessage="请输入需求部门"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column styleClass="Wid20"><p:outputLabel value="需求人" for="person" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="person" value="#{issuesListManagedBean.currentEntity.person}" title="person"
                                     required="true" requiredMessage="请输入需求人"/>
                    </p:column>
                    <p:column styleClass="Wid20"><p:outputLabel value="负责人" for="head" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="head" value="#{issuesListManagedBean.currentEntity.head}" title="head"
                                     required="true" requiredMessage="请输入负责人"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column styleClass="Wid20"><p:outputLabel value="计划完成时间" for="plantime" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:calendar id="plantime" value="#{issuesListManagedBean.currentEntity.plantime}" title="plantime"
                                    pattern="yyyy/MM/dd" required="true" requiredMessage="请输入计划完成时间"/>
                    </p:column>
                    <p:column styleClass="Wid20"><p:outputLabel value="实际完成时间" for="endtime" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:calendar id="endtime" value="#{issuesListManagedBean.currentEntity.endtime}" title="endtime"
                                    pattern="yyyy/MM/dd" required="true" requiredMessage="请输入实际完成时间"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column styleClass="Wid20"><p:outputLabel value="阶段" for="phase" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="phase" value="#{issuesListManagedBean.currentEntity.phase}" title="phase"
                                     required="true" requiredMessage="请输入阶段"/>
                    </p:column>
                    <p:column styleClass="Wid20"><p:outputLabel value="进度" for="jindu" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="jindu" value="#{issuesListManagedBean.currentEntity.jindu}" title="jindu"
                                     required="true" requiredMessage="请输入进度"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column styleClass="Wid20"><p:outputLabel value="资讯备注" for="remark1" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="remark1" value="#{issuesListManagedBean.currentEntity.remark1}" title="remark1"
                                     required="true" requiredMessage="请输入资讯备注"/>
                    </p:column>
                    <p:column styleClass="Wid20"><p:outputLabel value="需求部门备注" for="remark2" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="remark2" value="#{issuesListManagedBean.currentEntity.remark2}" title="remark2"
                                     required="true" requiredMessage="请输入需求部门备注"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column styleClass="Wid20"><p:outputLabel value="回复责任人" for="answer" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="answer" value="#{issuesListManagedBean.currentEntity.answer}" title="answer"
                                     required="true" requiredMessage="请输入回复责任人"/>
                    </p:column>
                    <p:column styleClass="Wid20"><p:outputLabel value="回复状态" for="answerstate" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="answerstate" value="#{issuesListManagedBean.currentEntity.answerstate}" title="answerstate"
                                     required="true" requiredMessage="请输入回复状态"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column styleClass="Wid20"><p:outputLabel value="案件状态" for="status" /></p:column>
                    <p:column styleClass="Wid30">
                        <p:inputText id="status" value="#{issuesListManagedBean.currentEntity.status}" title="status"
                                     required="true" requiredMessage="案件状态"/>
                    </p:column>
                </p:row>
            </p:panelGrid>
            <p:panelGrid id="plgTail"  styleClass="plgTail Wid100">
                <p:row>
                    <p:column styleClass="Wid20"><p:outputLabel value="附件文件" for="attachment" /></p:column>
                    <p:column styleClass="Wid80">
                        <p:fileUpload id="file" fileUploadListener="#{issuesListManagedBean.handleFileUploadWhenNew}" styleClass="file"
                                      allowTypes="/(\.|\/)(xls|xlsx|docx|pdf)$/" sizeLimit="5000000" label="选择" uploadLabel="上传" cancelLabel="还原" update="attachment"/>
                    </p:column>
                </p:row>
            </p:panelGrid>
        </h:form>
    </ui:define>

</ui:composition>
